/* ========= Khuyến mãi online (rút gọn, dùng biến + scale riêng cho layout và font) ========= */

/* Biến cơ sở cho kích thước; chỉnh 1 nơi áp dụng toàn khối */
:root {
    /* Kích thước cơ sở (layout) */
    --gap-base: 12px; /* khoảng cách giữa ô */
    --card-h-base: 360px; /* chiều cao 1 ô (1 hàng grid) */
    --thumb-h-base: 140px; /* chiều cao vùng ảnh */
    /* Cỡ chữ cơ sở */
    --title-fs-base: 20px; /* tiêu đề khối */
    --tab-fs-base: 14px; /* tab */
    --pill-fs-base: 12px; /* badge pill */
    --name-fs-base: 15px; /* tên sản phẩm */
    --meta-fs-base: 12px; /* biến thể/benefit/rating/price-line */
    --disc-fs-base: 12px; /* chip % */
    /* Padding/bo góc cơ sở */
    --tab-py-base: 8px;
    --tab-px-base: 14px;
    --pill-py-base: 2px;
    --pill-px-base: 8px;
    --card-pad-base: 10px;
    --card-radius-base: 12px;
    --name-minh-base: 40px; /* min-height tên sp (2 dòng) */
    --disc-py-base: 2px;
    --disc-px-base: 6px;
    --see-pad-y-base: 8px;
    --see-pad-x-base: 16px;
    /* Tỷ lệ co layout và font (tách biệt) */
    --scale: 1; /* scale layout: cao/rộng, khoảng cách, thumbnail, card-height */
    --font-scale: 1; /* scale font: chỉ phóng to/thu nhỏ chữ + min-height liên quan */
}

/* Màn nhỏ: hạ nhẹ chiều cao card & thumb để đỡ dài (không đổi font) */
@media (max-width: 767px) {
    :root {
        --card-h-base: 340px;
        --thumb-h-base: 130px;
    }
}

/* ----------------- Container tổng ----------------- */
.promo-section {
    background: #f5f7fb;
    border-radius: 12px;
    padding: 16px;
    margin: 16px 0 32px;
}

    /* Thu hẹp bề ngang toàn khối (đặt giữa trang) */
    .promo-section.narrow-70 {
        width: 70%;
        margin-inline: auto;
    }

@media (max-width:1200px) {
    .promo-section.narrow-70 {
        width: 85%;
    }
}

@media (max-width:992px) {
    .promo-section.narrow-70 {
        width: 100%;
    }
}

/* ----------------- Header + Tabs ----------------- */
.promo-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

/* Tiêu đề khối – cỡ chữ theo font-scale (không ảnh hưởng layout) */
.promo-title {
    font-size: calc(var(--title-fs-base) * var(--font-scale));
    font-weight: 800;
    margin: 0 0 8px 0;
}

/* Tabs danh mục */
.promo-tabs {
    margin-top: 4px;
}

.tab-list {
    list-style: none;
    padding: 0;
    margin: 0 0 12px 0;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.tab-item {
    background: #fff;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    color: #333;
    user-select: none;
    padding: calc(var(--tab-py-base) * var(--scale)) calc(var(--tab-px-base) * var(--scale));
    font-size: calc(var(--tab-fs-base) * var(--font-scale));
}

    .tab-item.active {
        border-color: #FFD400;
        box-shadow: 0 0 0 2px rgba(255,212,0,.15);
    }

/* ----------------- Banner nhỏ giữa khối ----------------- */
.promo-banner {
    background: #ffeaa6;
    border: 1px dashed #FFD400;
    color: #333;
    font-weight: 800;
    text-align: center;
    padding: 10px 8px;
    border-radius: 10px;
    margin-bottom: 12px;
}

/* ----------------- Lưới sản phẩm ----------------- */
/* Chỉ hiển thị panel đang active (tránh nhảy layout) */
.product-grid:not(.active) {
    display: none !important;
}

/* Grid 5 cột desktop; hàng cao cố định theo scale (layout) */
.product-grid {
    display: grid;
    grid-template-columns: repeat(5,1fr);
    gap: calc(var(--gap-base) * var(--scale));
    grid-auto-rows: calc(var(--card-h-base) * var(--scale));
}

@media (max-width:1199px) {
    .product-grid {
        grid-template-columns: repeat(4,1fr);
    }
}

@media (max-width:991px) {
    .product-grid {
        grid-template-columns: repeat(3,1fr);
    }
}

@media (max-width:767px) {
    .product-grid {
        grid-template-columns: repeat(2,1fr);
    }
}

@media (max-width:479px) {
    .product-grid {
        grid-template-columns: 1fr;
    }
}

/* ----------------- Thẻ sản phẩm ----------------- */
.product-card {
    background: #fff;
    border: 1px solid #ececec;
    border-radius: calc(var(--card-radius-base)*var(--scale));
    padding: calc(var(--card-pad-base)*var(--scale));
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    transition: box-shadow .2s ease, transform .2s ease;
}

    .product-card:hover {
        box-shadow: 0 6px 18px rgba(0,0,0,.08);
        transform: translateY(-2px);
    }

/* Badge nhỏ trên đầu thẻ */
.card-topline {
    display: flex;
    gap: 6px;
    margin-bottom: 6px;
}

.pill {
    display: inline-block;
    border-radius: 999px;
    border: 1px solid transparent;
    font-weight: 700;
    padding: calc(var(--pill-py-base) * var(--scale)) calc(var(--pill-px-base) * var(--scale));
    font-size: calc(var(--pill-fs-base) * var(--font-scale));
}

    .pill.mint {
        background: #e6fff1;
        color: #079455;
        border-color: #b7f0d3;
    }

    .pill.rose {
        background: #ffe6ea;
        color: #cc3a4b;
        border-color: #ffc5cd;
    }

/* Ảnh (placeholder) – bạn sẽ thay bằng ảnh sau */
.product-thumb {
    height: calc(var(--thumb-h-base) * var(--scale));
    background: #f2f2f2;
    border-radius: 10px;
    margin-bottom: 8px;
}

/* Text & thông tin phụ */
.product-name {
    color: #333;
    font-weight: 700;
    line-height: 1.35;
    margin: 0 0 4px 0;
    font-size: calc(var(--name-fs-base) * var(--font-scale));
    min-height: calc(var(--name-minh-base) * var(--font-scale)); /* dự trữ 2 dòng theo cỡ chữ */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.product-variant {
    color: #777;
    margin-bottom: 6px;
    min-height: calc(18px * var(--font-scale));
    font-size: calc(var(--meta-fs-base) * var(--font-scale));
}

/* Giá + chip % giảm – tăng khoảng cách để không dính dòng dưới */
.price-line {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-wrap: wrap;
    margin-bottom: 8px;
    min-height: calc(24px * var(--font-scale)); /* theo font để đủ chỗ */
    font-size: calc(var(--meta-fs-base) * var(--font-scale));
}

.price {
    color: #d70018;
    font-weight: 800;
}

.price-old {
    color: #888;
    text-decoration: line-through;
}

/* Chip % giảm – cố định chiều cao, không tràn dòng */
.discount {
    background: #fff3cd;
    color: #a87900;
    border: 1px solid #ffe08a;
    border-radius: 999px;
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    white-space: nowrap;
    line-height: 1;
    padding: calc(var(--disc-py-base) * var(--scale)) calc(var(--disc-px-base) * var(--scale));
    font-size: calc(var(--disc-fs-base) * var(--font-scale));
}

/* Dòng quà tặng & đánh giá */
.benefit {
    color: #444;
    margin-bottom: 4px;
    min-height: calc(18px * var(--font-scale));
    font-size: calc(var(--meta-fs-base) * var(--font-scale));
}

.rating-line {
    color: #666;
    min-height: calc(18px * var(--font-scale));
    font-size: calc(var(--meta-fs-base) * var(--font-scale));
}

/* Link "Xem thêm ..." kiểu text xanh + mũi tên; đổi theo tab đang chọn */
.see-more {
    text-align: center;
    margin-top: 14px;
}

.see-more-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: #1976d2; /* xanh giống trong ảnh minh họa */
    font-weight: 800;
    text-decoration: none;
    background: transparent;
    border: 0;
    padding: 4px 2px; /* gọn gàng như link */
    font-size: calc(14px * var(--font-scale)); /* phóng to/thu nhỏ theo font-scale */
}

    .see-more-link:hover {
        text-decoration: underline;
    }

    .see-more-link .chev {
        color: #1976d2;
        transition: transform .15s ease;
    }

    .see-more-link:hover .chev {
        transform: translateX(2px);
    }

/* ----------------- Mode thu nhỏ: scale layout & scale font độc lập ----------------- */
/* Gợi ý: để chữ lớn hơn khi layout thu nhỏ, tăng --font-scale cao hơn --scale */
.promo-section.compact-50 {
    --scale: .5; /* layout giảm 50% */
    --font-scale: .7; /* chữ ~70% (to hơn để dễ đọc). Có thể chỉnh .75/.8 tùy ý */
}

/* Mẫu khác nếu cần:
.promo-section.compact-60{ --scale:.6; --font-scale:.75; }
.promo-section.compact-55{ --scale:.55; --font-scale:.7; }
*/

/* ===========================
   Tag cloud chips – compact, rounded, neutral palette
   (Tách từ Index.cshtml để tái sử dụng và dễ bảo trì)
   =========================== */
:root {
    --chip-bg: #f6f8fb;
    --chip-bg-hover: #eef3fb;
    --chip-border: #e6ebf2;
    --chip-border-hover: #d7dfec;
    --chip-text: #2b2f36;
}

/* Container: wrap + consistent gaps between chips */
.search-cloud {
    display: flex;
    flex-wrap: wrap;
    gap: 10px 12px;           /* row x column spacing */
    padding: 8px 0 4px;
}

/* Chip: small pill, no link underline, neutral color */
.search-chip {
    display: inline-flex;
    align-items: center;
    height: 28px;             /* nhỏ gọn như hình mẫu */
    padding: 0 12px;
    border-radius: 999px;
    background: var(--chip-bg);
    border: 1px solid var(--chip-border);
    color: var(--chip-text) !important;        /* ép màu link */
    text-decoration: none !important;          /* bỏ gạch chân */
    font-size: 13px;
    font-weight: 600;
    line-height: 1;
    box-shadow: 0 1px 0 #fff inset, 0 1px 2px rgba(16,24,40,.04);
    transition: background .15s ease, border-color .15s ease, color .15s ease, box-shadow .15s ease, transform .05s ease;
}

.search-chip:hover {
    background: var(--chip-bg-hover);
    border-color: var(--chip-border-hover);
    color: #111 !important;
}

.search-chip:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(0,102,255,.15);
}

.search-chip:active {
    transform: translateY(.5px);
}
